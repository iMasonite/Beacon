document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("main_wrapper"),t=document.getElementById("navigator"),n=e.getElementsByClassName("page"),i=t.getElementsByClassName("pip");let s=0;const a=document.getElementById("previous_button"),l=document.getElementById("next_button"),d=e=>{if(s===e||e<0||e>=n.length)return;const t=n[s],d=n[e];e>s?t.classList.add("left"):t.classList.add("right"),d.classList.add("noanimation"),e>s?(d.classList.add("right"),d.classList.remove("left")):(d.classList.add("left"),d.classList.remove("right")),setTimeout((function(){d.classList.remove("noanimation"),d.classList.remove("left"),d.classList.remove("right")}),1),document.title=d.getAttribute("beacon-title");const o=0===e,c=e===n.length-1;a.disabled=o,l.innerText=c?"Finished":"Next";for(let t=0;t<i.length;t++)i[t].className=t===e?"pip active":"pip";s=e};l.addEventListener("click",(e=>{e.preventDefault(),s>=n.length-1?window.location="beacon://finished":d(s+1)})),a.addEventListener("click",(e=>{e.preventDefault(),0!==s&&d(s-1)}));for(let e=0;e<n.length;e++){const t=n[e],s=i[e];0===e?(document.title=t.getAttribute("beacon-title"),null!==s&&(s.className="pip active")):t.classList.add("right"),null!==s&&function(){var t=e;s.addEventListener("click",(function(){d(t)}))}()}const o=n.length>1,c=document.getElementById("skip_button");o?c.addEventListener("click",(e=>{e.preventDefault(),window.location="beacon://finished"})):(c.style.display="none",a.style.display="none"),1===n.length&&(l.innerText="Finished"),e.classList.add("animated")}));